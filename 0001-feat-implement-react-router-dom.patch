From ca33ce5d7efe433ebfc6bb18cf4415756d24b2ec Mon Sep 17 00:00:00 2001
From: quni <quni.inne@gmail.com>
Date: Fri, 24 May 2024 13:05:37 +0200
Subject: [PATCH 1/6] feat: implement react-router-dom

---
 package.json               |  2 ++
 src/App.tsx                | 59 +++++++++++++++++---------------------
 src/layouts/RootLayout.tsx | 20 +++++++++++++
 src/pages/Home.tsx         | 28 ++++++++++++++++++
 4 files changed, 77 insertions(+), 32 deletions(-)
 create mode 100644 src/layouts/RootLayout.tsx
 create mode 100644 src/pages/Home.tsx

diff --git a/package.json b/package.json
index 64df85b..8ab356b 100644
--- a/package.json
+++ b/package.json
@@ -18,11 +18,13 @@
     "react": "^18.2.0",
     "react-dom": "^18.2.0",
     "react-icons": "^5.2.1",
+    "react-router-dom": "^6.23.1",
     "swiper": "^11.1.3"
   },
   "devDependencies": {
     "@types/react": "^18.2.66",
     "@types/react-dom": "^18.2.22",
+    "@types/react-router-dom": "^5.3.3",
     "@typescript-eslint/eslint-plugin": "^7.2.0",
     "@typescript-eslint/parser": "^7.2.0",
     "@vitejs/plugin-react-swc": "^3.5.0",
diff --git a/src/App.tsx b/src/App.tsx
index be8fb2b..b0a94e1 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -1,40 +1,35 @@
-import "./styles/main.css";
+import { Suspense, lazy } from "react";
+import { createBrowserRouter, RouterProvider } from "react-router-dom";
+import Loader from "./pages/Loader";
+import RootLayout from "./layouts/RootLayout";
 
-// Import layout components
-import Navbar from "./components/layout/Navbar/Navbar";
-import Footer from "./components/layout/Footer/Footer";
+const Home = lazy(() => import("./pages/Home"));
+const NotFound = lazy(() => import("./pages/NotFound"));
 
-// Import section components
-import Hero from "./components/sections/Hero/Hero";
-import AboutUs from "./components/sections/AboutUs/AboutUs";
-import OurOffer from "./components/sections/OurOffer/OurOffer";
-import Directions from "./components/sections/Directions/Directions";
-import Contact from "./components/sections/Contact/Contact";
-import Faq from "./components/sections/Faq/Faq";
+const router = createBrowserRouter([
+  {
+    path: "/",
+    element: <RootLayout />,
+    children: [
+      {
+        index: true,
+        element: (
+          <Suspense fallback={<Loader />}>
+            <Home />
+          </Suspense>
+        ),
+      },
 
-// Import UI components
-import ScrollGallery from "./components/UI/ScrollGallery/ScrollGallery";
-import StickyContact from "./components/UI/StickyContact/StickyContact";
+      {
+        path: "*",
+        element: <NotFound />,
+      },
+    ],
+  },
+]);
 
 function App() {
-  return (
-    <>
-      <main className="flex h-full flex-col items-center justify-center overflow-hidden scroll-smooth">
-        <Navbar />
-        <StickyContact />
-
-        {/* SECTIONS */}
-        <Hero />
-        <AboutUs />
-        <OurOffer />
-        <ScrollGallery />
-        <Contact />
-        <Directions />
-        <Faq />
-      </main>
-      <Footer />
-    </>
-  );
+  return <RouterProvider router={router} />;
 }
 
 export default App;
diff --git a/src/layouts/RootLayout.tsx b/src/layouts/RootLayout.tsx
new file mode 100644
index 0000000..22c1547
--- /dev/null
+++ b/src/layouts/RootLayout.tsx
@@ -0,0 +1,20 @@
+import { Outlet } from "react-router-dom";
+
+import Navbar from "../components/layout/Navbar/Navbar";
+import Footer from "../components/layout/Footer/Footer";
+import StickyContact from "../components/UI/StickyContact/StickyContact";
+
+const RootLayout: React.FC = () => {
+  return (
+    <div className="flex min-h-screen flex-col">
+      <Navbar />
+      <main className="">
+        <Outlet />
+      </main>
+      <StickyContact />
+      <Footer />
+    </div>
+  );
+};
+
+export default RootLayout;
diff --git a/src/pages/Home.tsx b/src/pages/Home.tsx
new file mode 100644
index 0000000..27f560b
--- /dev/null
+++ b/src/pages/Home.tsx
@@ -0,0 +1,28 @@
+// Import layout components
+
+// Import section components
+import Hero from "../components/sections/Hero/Hero";
+import AboutUs from "../components/sections/AboutUs/AboutUs";
+import OurOffer from "../components/sections/OurOffer/OurOffer";
+import Directions from "../components/sections/Directions/Directions";
+import Contact from "../components/sections/Contact/Contact";
+import Faq from "../components/sections/Faq/Faq";
+
+// Import UI components
+import ScrollGallery from "../components/UI/ScrollGallery/ScrollGallery";
+
+const Home: React.FC = () => {
+  return (
+    <div className="">
+      <Hero />
+      <AboutUs />
+      <OurOffer />
+      <ScrollGallery />
+      <Contact />
+      <Directions />
+      <Faq />
+    </div>
+  );
+};
+
+export default Home;
-- 
2.45.0

